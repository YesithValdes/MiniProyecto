<div *ngIf="isAdmin$ | async">
    <h2>User Management</h2>
  
    <div *ngIf="users$ | async as users">
      <ul>
        <li *ngFor="let user of users">
          {{ user.nombre }} ({{ user.email }}) - 
          <button (click)="editUser(user)">Edit</button>
        </li>
      </ul>
    </div>
  
    <div *ngIf="editingUser">
      <h3>Edit User: {{ editingUser.nombre }}</h3>
      <form [formGroup]="editForm" (ngSubmit)="updateUser()">
        <div>
          <label for="nombre">Nombre:</label>
          <input type="text" id="nombre" formControlName="nombre" required>
        </div>
        <div>
          <label for="email">Email:</label>
          <input type="email" id="email" formControlName="email" required readonly>
        </div>
        <div>
          <label for="rol">Rol:</label>
          <select id="rol" formControlName="rol" required>
            <option value="admin">Administrador</option>
            <option value="user">Usuario</option>
          </select>
        </div>
        <button type="submit" [disabled]="!editForm.valid">Update</button>
        <button type="button" (click)="cancelEdit()">Cancel</button>
      </form>
    </div>
  </div>
  
  <div *ngIf="!(isAdmin$ | async)">
    You do not have permission to access this page.
  </div>
  